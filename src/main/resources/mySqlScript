/*
creating a schema for the project:
*/

create database if not exists myappdata;
use myappdata;

/*
creating a table for Courier class:
*/

drop table if exists courier;
create table courier (
id int(11) not null auto_increment,
first_name varchar(45) not null,
last_name varchar(45) not null,
phone varchar(16) not null,
primary key(id) )
engine=InnoDB auto_increment=1
default charset=utf8mb4;

/*
creating a table for Address class:
*/

drop table if exists address;
create table address (
id int(11) not null auto_increment,
country_name varchar(45) not null,
city_name varchar(45) not null,
street_name varchar(45) not null,
house_number smallint(5) not null,
courier_id int(11) not null,
primary key (id),
foreign key (courier_id)
references courier (id)
on delete no action on update no action)
engine=InnoDB auto_increment=1
default charset=utf8mb4;

/*
creating a table for authorities:
*/

drop table if exists users;
create table users (
username varchar(45) not null,
password char(68) not null,
enabled tinyint(1) not null,
primary key (username))
engine=InnoDB
default charset=utf8mb4;

/*
creating a table for authorities:
*/

drop table if exists authorities;
create table authorities (
username varchar(45) not null,
authority varchar(45) not null,
PRIMARY KEY (username))
engine=InnoDB
default charset=utf8mb4;

/*
populating the "authorities" table with initial login credentials:
*/

insert into myappdata.authorities (username, authority) values ('manager', 'ROLE_MANAGER');
insert into myappdata.authorities (username, authority) values ('admin', 'ROLE_ADMIN');
insert into myappdata.authorities (username, authority) values ('courier1', 'ROLE_COURIER');
insert into myappdata.authorities (username, authority) values ('courier2', 'ROLE_COURIER');